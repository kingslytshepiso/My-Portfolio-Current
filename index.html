<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link href="./cover.css" rel="stylesheet" />
    <link href="./custom.css" rel="stylesheet" />
    <link href="./slideshow.css" rel="stylesheet" />
    <title>Kingsly Mokgwathi Portfolio</title>
  </head>
  <body>
    <div class="outer text-bg-dark">
      <div class="my-cover">
        <div id="slider">
          <div class="photo">
            <img
              src="./backgrounds/pawel-czerwinski-ERcQ81KaX9g-unsplash.jpg"
              alt=""
            />
          </div>
          <div class="photo">
            <img
              src="./backgrounds/shubham-dhage-4u7VzDgNgLI-unsplash.jpg"
              alt=""
            />
          </div>
          <div class="photo">
            <img src="./backgrounds/diego-ph-5LOhydOtTKU-unsplash.jpg" alt="" />
          </div>
          <div class="photo">
            <img
              src="./backgrounds/resource-database-dFafbS_7bb8-unsplash.jpg"
              alt=""
            />
          </div>
        </div>
      </div>
      <div class="d-flex h-100 text-center">
        <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
          <header class="mb-auto sticky-top">
            <div>
              <h3 class="float-md-start mb-0">
                <img src="./images/logo.png" width="50" />
              </h3>
              <nav class="nav nav-masthead justify-content-center float-md-end">
                <a
                  class="nav-link fw-bold py-1 px-0 active"
                  aria-current="page"
                  href="#"
                  >Home</a
                >
                <a class="nav-link fw-bold py-1 px-0" href="./about.html"
                  >About</a
                >
                <a class="nav-link fw-bold py-1 px-0" href="./contact.html"
                  >Contact</a
                >
              </nav>
            </div>
          </header>

          <main class="mb-2">
            <div class="welcome px-3">
              <h1>Hi there!</h1>
              <p class="lead">Welcome to my space</p>
              <p class="lead">
                <a
                  href="./about.html"
                  class="btn btn-lg btn-light fw-bold border-white bg-white"
                  >View profile</a
                >
              </p>
            </div>
            <div class="project-section">
              <div class="h5 p-1 text-center mx-auto">
                View my latest projects
              </div>
              <div
                class="album-container flex-column flex-sm-row flex-md-row w-100"
              >
                <div class="album-item text-bg-dark">
                  <div class="album-wrapper">
                    <div class="album-illustration"></div>
                    <div class="album-description"></div>
                  </div>
                  <div class="album-cover"></div>
                </div>
                <div class="album-item text-bg-dark">
                  <div class="album-wrapper">
                    <div class="album-illustration"></div>
                    <div class="album-description"></div>
                  </div>
                  <div class="album-cover"></div>
                </div>
                <div class="album-item text-bg-dark">
                  <div class="album-wrapper">
                    <div class="album-illustration"></div>
                    <div class="album-description"></div>
                  </div>
                  <div class="album-cover"></div>
                </div>
              </div>
            </div>
          </main>

          <footer class="mt-auto text-white-50">
            <p>
              Cover template for
              <a href="https://getbootstrap.com/" class="text-white"
                >Bootstrap</a
              >, by
              <a href="https://twitter.com/mdo" class="text-white">@mdo</a>.
            </p>
          </footer>
        </div>
      </div>
    </div>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
      integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="./cover.js"></script>
    <script>
      function loadWork(projects) {
        $(".album-item").each((index, item) => {
          $(item)
            .mouseover((ev) => {
              var hoveredAlbum = ev.currentTarget;
              $(hoveredAlbum).css("border-color", projects[index].borderColor);
              $(hoveredAlbum).addClass("bg-light text-dark");
              $(hoveredAlbum).find(".album-info").css("top", "0");
              $(hoveredAlbum).find(".album-cover").css("display", "block");
            })
            .mouseout((ev) => {
              var hoveredAlbum = ev.currentTarget;
              $(hoveredAlbum)
                .css("border-color", "transparent")
                .css("cursor", "pointer");
              $(hoveredAlbum).find(".album-info").css("top", "160px");
              $(hoveredAlbum).removeClass("bg-light text-dark");
              $(hoveredAlbum).find(".album-cover").css("display", "none");
            });

          $(item)
            .find(".album-illustration")
            .append(
              $("<div>").append($("<img>").attr("src", projects[index].img))
            );
          $(item)
            .find(".album-illustration")
            .append(
              $("<div>")
                .addClass("album-info")
                .append(projects[index].description)
            );
          $(item)
            .find(".album-description")
            .append(
              $("<p>").append(
                $("<span>").append(projects[index].name).addClass("h3")
              )
            )
            .append(
              $("<p>").append(
                $("<a>")
                  .append(
                    projects[index].type +
                      '<i class="fas fa-external-link mx-1"></i>'
                  )
                  .addClass("link-light rounded bg-primary p-1")
                  .attr("href", projects[index].projectLink)
                  .attr("target", "_blank")
              )
            )
            .append(
              $("<p>").append(
                $("<span>").append(() => {
                  var techSpans = $("<span>").addClass("technologies");
                  $(projects[index].technologies).each(
                    (techIndex, techItem) => {
                      techSpans.append(
                        $("<span>")
                          .html(techItem)
                          .addClass("m-1 p-1 rounded bg-danger")
                      );
                    }
                  );
                  return techSpans;
                })
              )
            );
        });
      }
      $(document).ready(() => {
        fetch("./projects.json")
          .then((response) => response.json())
          .then((data) => {
            loadWork(data);
          })
          .catch((error) => console.log(error));
      });
    </script>
  </body>
</html>
